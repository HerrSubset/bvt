#!/usr/bin/env ruby

require 'bvt'

fed = Bvt.load_federation(ARGV[0])

if fed == nil
  puts "This federation was not found"
  exit
end


#print all league names to the screen
puts "\nAvailable leagues:"
(1..(fed.leagues.length)).each do |n|
  puts "#{n}:\t#{fed.leagues[n-1].name}"
end

#let user select league
puts "Enter the number of the league you'd like to select:"
input = $stdin.gets.chomp.to_i
l = fed.leagues[input - 1]
puts "You selected #{l.name}\n"


puts "\nAvailable teams in #{l.name}:"
team_list = l.get_teams
(1..(team_list.length)).each do |n|
  puts "#{n}:\t#{team_list[n-1]}"
end

puts "Enter the number of the team you'd like to select:"
input = $stdin.gets.chomp.to_i
t = team_list[input - 1]


puts "\nCalendar for #{t}:"
team_games = l.get_team_games(t)

team_games.each do |g|
  puts g.to_s
end
